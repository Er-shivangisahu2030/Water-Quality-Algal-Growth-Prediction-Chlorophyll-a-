# Water Quality & Algal Growth Prediction (Chlorophyll-a)

This project builds a **software-based water quality monitoring and algal growth prediction system** using historical multivariate time-series data.  
The core target is **Chlorophyll-a**, a proxy for algal biomass, predicted from water quality parameters like temperature, dissolved oxygen, pH, salinity, turbidity, and conductivity.

The repository is organized into clear **phases**, each implemented in a separate Python script:

phase 0 and this is very important
https://colab.research.google.com/drive/1V2wSAwC2Knp2HQ1WSIjgaE48es-2X6Bx?usp=sharing
this link is the data engineering part where the datset is made using 2 dataset chlorophyll a_water_quality.csv and water_quality.csv
Dataset1:
import kagglehub

# Download latest version
path = kagglehub.dataset_download("downshift/water-quality-monitoring-dataset")

Dataset2:
import kagglehub

# Download latest version
path = kagglehub.dataset_download("krishnanshverma/england-water-quality")

print("Path to dataset files:", path)
print("Path to dataset files:", path)

- Phase 1: Load & clean raw dataset  
- Phase 2: Exploratory analysis & chronological data split  
- Phase 3: Train baseline ML models (Linear Regression, Random Forest)  
- Phase 4: Provide a simple prediction interface function for future apps (e.g., Streamlit)

Later, this project can be extended with **LSTM forecasting** and **image-based (CNN) algae detection**.

---

## Project Structure

water_project/
final_water_quality_chlorophyll_dataset.csv # Raw merged time-series dataset
clean_water_quality.csv # Cleaned dataset (generated by Phase 1)
split_X_train.npy # Train features (Phase 2 output)
split_y_train.npy # Train target
split_X_val.npy # Validation features
split_y_val.npy # Validation target
split_X_test.npy # Test features
split_y_test.npy # Test target
scaler.pkl # Fitted feature scaler (Phase 3 output)
chlorophyll_model.pkl # Best baseline regression model (Phase 3 output)

eda1.py # Phase 1 script
da2.py # Phase 2 script
train.py # Phase 3 script
final.py # Phase 4 helper
The dataset is a consolidated time-series file:

- **File**: `final_water_quality_chlorophyll_dataset.csv`  
- **Columns (expected)**:  
  - `date`: timestamp (e.g., `2023-10-27 05:00:00`)  
  - `chlorophyll`: Chlorophyll-a concentration (target variable)  
  - `temperature`: Water temperature (°C)  
  - `dissolvedoxygen`: Dissolved oxygen (mg/L)  
  - `pH`: Acidity/alkalinity  
  - `Salinity`: Salinity (e.g., PSU)  
  - `Turbidity`: Turbidity / water clarity  
  - `conductivity`: Electrical conductivity (µS/cm)

The time series is already cleaned, aligned, interpolated, and normalized in prior preprocessing steps; this code adds one more consistent cleaning pass and organizes the ML workflow

---

## Phases & Scripts

### Phase 1 and 2– Load & Clean (`eda1.py, eda2.py`)

Tasks:

- Load `final_water_quality_chlorophyll_dataset.csv`  
- Parse the `date` column to `datetime` and sort by time  
- Drop duplicate timestamps and apply simple forward/backward filling  
- Save the cleaned dataset as `clean_water_quality.csv` [file:1]

Run:

Expected output:

- Plots (when run in an environment that supports plotting)  
- `.npy` files for train/val/test splits

---

### Phase 3 – Train Baseline Models (`train.py`)

Tasks:

- Load the split arrays from Phase 2  
- Scale features using `MinMaxScaler` (fitted on train only)  
- Train:
  - Linear Regression  
  - Random Forest Regressor
- Evaluate both on validation and test sets using:
  - MAE (Mean Absolute Error)  
  - RMSE (Root Mean Squared Error)  
  - R² score  
- Select the best model (based on validation MAE)  
- Save:
  - `scaler.pkl` (fitted scaler)  
  - `chlorophyll_model.pkl` (best model) [web:31]

Run:
Expected output:

- Metrics printed for each model on VAL and TEST  
- Saved `scaler.pkl` and `chlorophyll_model.pkl` in project root

---

### Phase 4 – Prediction Helper (`final.py`)

Tasks:

- Load the saved scaler and model  
- Provide a function:
that returns a single chlorophyll-a prediction, ready to be used in a web app (e.g., Streamlit). [web:31]

Run (test):
Expected output:

- Example prediction printed in the console (“Example predicted chlorophyll-a: ...”)
